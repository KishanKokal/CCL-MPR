{"ast":null,"code":"var _jsxFileName = \"/Users/kishankokal/repos/CCL-Mini-Project/src/components/book-list-container.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport BooksList from './book-list';\nimport { toast } from 'react-toastify';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport * as BookActionTypes from '../store/actions/books.actions';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faEye, faEdit, faTrash, faPlus, faWindowClose } from '@fortawesome/free-solid-svg-icons';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nlibrary.add(faEye);\nlibrary.add(faPlus);\nlibrary.add(faEdit);\nlibrary.add(faTrash);\nlibrary.add(faWindowClose);\nexport class BooksListContainer extends React.Component {\n  constructor() {\n    super();\n\n    this.close = () => {\n      this.setState({\n        selectedBook: this.state.selectedBook,\n        enableView: this.state.enableView,\n        enableEdit: this.state.enableEdit,\n        enableDelete: this.state.enableDelete,\n        show: false\n      });\n    };\n\n    this.handleRowSelect = this.handleRowSelect.bind(this);\n    this.handleAddClick = this.handleAddClick.bind(this);\n    this.handleViewClick = this.handleViewClick.bind(this);\n    this.handleEditClick = this.handleEditClick.bind(this);\n    this.handleDeleteClick = this.handleDeleteClick.bind(this);\n    this.state = {\n      selectedBook: undefined,\n      enableView: false,\n      enableEdit: false,\n      enableDelete: false,\n      show: false\n    };\n  }\n\n  componentDidMount() {\n    this.props.action.getBooksAction().catch(error => {\n      toast(\"Error occured !\", {\n        type: toast.TYPE.ERROR,\n        autoClose: 3000\n      });\n    });\n  }\n\n  handleRowSelect(row, isSelected) {\n    if (isSelected) {\n      this.setState({\n        selectedBook: row,\n        enableView: true,\n        enableEdit: true,\n        enableDelete: true,\n        show: false\n      });\n    } else {\n      this.setState({\n        selectedBook: undefined,\n        enableView: false,\n        enableEdit: false,\n        enableDelete: false,\n        show: false\n      });\n    }\n  }\n\n  handleAddClick(itemId, event) {\n    this.props.history.push('/book');\n  }\n\n  handleViewClick(itemId, event) {\n    const selectedBookId = this.state.selectedBook.id;\n\n    if (selectedBookId) {\n      const existingBookIndex = this.props.books.findIndex(book => book.id === selectedBookId);\n      const bookFound = Object.assign({}, this.props.books[existingBookIndex]);\n      this.setState({\n        selectedBook: bookFound,\n        enableView: this.state.enableView,\n        enableEdit: this.state.enableEdit,\n        enableDelete: this.state.enableDelete,\n        show: true\n      });\n    }\n  }\n\n  handleEditClick(itemId, event) {\n    const selectedBookId = this.state.selectedBook.id;\n\n    if (selectedBookId) {\n      this.setState({\n        selectedBookId: undefined\n      });\n      this.props.history.push(`/book/${selectedBookId}`);\n    }\n  }\n\n  handleDeleteClick(itemId, event) {\n    const selectedBookId = this.state.selectedBook.id;\n\n    if (selectedBookId) {\n      this.setState({\n        selectedBook: undefined,\n        enableView: false,\n        enableEdit: false,\n        enableDelete: false,\n        show: false\n      });\n      this.props.action.deleteBookAction(selectedBookId).then(() => {\n        toast(\"Book Deleted\", {\n          type: toast.TYPE.SUCCESS,\n          autoClose: 3000\n        });\n      }).catch(error => {\n        toast(\"Error occured !\", {\n          type: toast.TYPE.ERROR,\n          autoClose: 3000\n        });\n      });\n    }\n  }\n\n  render() {\n    const {\n      books\n    } = this.props;\n\n    if (!books) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }\n      }, \"Loading...\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, this.state.selectedBook ? /*#__PURE__*/React.createElement(Modal, {\n      className: \"view-book-modal\",\n      show: this.state.show,\n      onHide: this.close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 44\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, \"Book\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 41\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      placeholder: \"Input name\",\n      value: this.state.selectedBook.id,\n      disabled: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 41\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      placeholder: \"Input name\",\n      value: this.state.selectedBook.name,\n      disabled: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 41\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      placeholder: \"Input address\",\n      rows: \"5\",\n      value: this.state.selectedBook.description,\n      disabled: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 41\n      }\n    }, \"Author\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      placeholder: \"Input address\",\n      value: this.state.selectedBook.author,\n      disabled: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img-thumbnail card-img-view\",\n      src: this.state.selectedBook.photo,\n      alt: \"src={this.state.selectedBook.name}\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      onClick: this.handleDeleteClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: \"trash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 29\n      }\n    }), \"Delete\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.close,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: \"window-close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 29\n      }\n    }), \"Close\"))) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-3 margin-left margin-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-group\",\n      role: \"group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary ml-2\",\n      onClick: this.handleAddClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: \"plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 33\n      }\n    }), \" New\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success ml-2\",\n      disabled: !this.state.enableView,\n      onClick: this.handleViewClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: \"eye\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 33\n      }\n    }), \" View\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-warning ml-2\",\n      disabled: !this.state.enableEdit,\n      onClick: this.handleEditClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: \"edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 33\n      }\n    }), \" Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger ml-2\",\n      disabled: !this.state.enableDelete,\n      onClick: this.handleDeleteClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: \"trash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 33\n      }\n    }), \" Delete\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(BooksList, {\n      books: books,\n      handleRowSelect: this.handleRowSelect,\n      handleSelectAll: this.handleSelectAll,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  books: state.booksReducer.books,\n  selectedBook: state.booksReducer.selectedBook\n});\n\nconst mapDispatchToProps = dispatch => ({\n  action: bindActionCreators(BookActionTypes, dispatch)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BooksListContainer);","map":{"version":3,"sources":["/Users/kishankokal/repos/CCL-Mini-Project/src/components/book-list-container.js"],"names":["React","PropTypes","connect","bindActionCreators","FontAwesomeIcon","BooksList","toast","BootstrapTable","TableHeaderColumn","BookActionTypes","library","faEye","faEdit","faTrash","faPlus","faWindowClose","Modal","Button","add","BooksListContainer","Component","constructor","close","setState","selectedBook","state","enableView","enableEdit","enableDelete","show","handleRowSelect","bind","handleAddClick","handleViewClick","handleEditClick","handleDeleteClick","undefined","componentDidMount","props","action","getBooksAction","catch","error","type","TYPE","ERROR","autoClose","row","isSelected","itemId","event","history","push","selectedBookId","id","existingBookIndex","books","findIndex","book","bookFound","Object","assign","deleteBookAction","then","SUCCESS","render","name","description","author","photo","handleSelectAll","mapStateToProps","booksReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport BooksList from './book-list';\nimport { toast } from 'react-toastify';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport * as BookActionTypes from '../store/actions/books.actions';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faEye, faEdit, faTrash, faPlus, faWindowClose } from '@fortawesome/free-solid-svg-icons';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button'\nlibrary.add(faEye);\nlibrary.add(faPlus);\nlibrary.add(faEdit);\nlibrary.add(faTrash);\nlibrary.add(faWindowClose);\n\nexport class BooksListContainer extends React.Component {\n\n    constructor() {\n        super();\n        this.handleRowSelect = this.handleRowSelect.bind(this);\n        this.handleAddClick = this.handleAddClick.bind(this);\n        this.handleViewClick = this.handleViewClick.bind(this);\n        this.handleEditClick = this.handleEditClick.bind(this);\n        this.handleDeleteClick = this.handleDeleteClick.bind(this);\n        this.state = {\n            selectedBook: undefined,\n            enableView: false,\n            enableEdit: false,\n            enableDelete: false,\n            show: false\n        }\n    }\n\n    componentDidMount() {\n        this.props.action.getBooksAction()\n            .catch(error => {\n                toast(\"Error occured !\", { type: toast.TYPE.ERROR, autoClose: 3000 });\n            });\n    }\n\n    handleRowSelect(row, isSelected) {\n        if (isSelected) {\n            this.setState({\n                selectedBook: row,\n                enableView: true,\n                enableEdit: true,\n                enableDelete: true,\n                show: false\n            })\n        } else {\n            this.setState({\n                selectedBook: undefined,\n                enableView: false,\n                enableEdit: false,\n                enableDelete: false,\n                show: false\n            })\n        }\n    }\n\n    handleAddClick(itemId, event) {\n        this.props.history.push('/book');\n    }\n\n    handleViewClick(itemId, event) {\n        const selectedBookId = this.state.selectedBook.id;\n        if (selectedBookId) {\n            const existingBookIndex = this.props.books.findIndex(book => book.id === selectedBookId);\n            const bookFound = Object.assign({}, this.props.books[existingBookIndex]);\n            this.setState({\n                selectedBook: bookFound,\n                enableView: this.state.enableView,\n                enableEdit: this.state.enableEdit,\n                enableDelete: this.state.enableDelete,\n                show: true\n            })\n        }\n    }\n\n    handleEditClick(itemId, event) {\n        const selectedBookId = this.state.selectedBook.id;\n        if (selectedBookId) {\n            this.setState({ selectedBookId: undefined });\n            this.props.history.push(`/book/${selectedBookId}`);\n        }\n    }\n\n    handleDeleteClick(itemId, event) {\n        const selectedBookId = this.state.selectedBook.id;\n        if (selectedBookId) {\n            this.setState({\n                selectedBook: undefined,\n                enableView: false,\n                enableEdit: false,\n                enableDelete: false,\n                show: false\n            })\n            this.props.action.deleteBookAction(selectedBookId).then(() => {\n                toast(\"Book Deleted\", { type: toast.TYPE.SUCCESS, autoClose: 3000 });\n            })\n            .catch(error => {\n                toast(\"Error occured !\", { type: toast.TYPE.ERROR, autoClose: 3000 });\n            });\n        }\n    }\n\n    close = () => {\n        this.setState({\n            selectedBook: this.state.selectedBook,\n            enableView: this.state.enableView,\n            enableEdit: this.state.enableEdit,\n            enableDelete: this.state.enableDelete,\n            show: false\n        })\n    };\n\n    render() {\n        const { books } = this.props;\n\n        if (!books) {\n            return (\n                <div>Loading...</div>\n            );\n        }\n\n        return (\n            <div className=\"container\">\n                {this.state.selectedBook ? <Modal className=\"view-book-modal\" show={this.state.show} onHide={this.close}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>\n                            Book\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <div className=\"row\">\n                            <div className=\"col-md-10\">\n                                <form>\n                                    <div className=\"form-group\">\n                                        <label>ID</label>\n                                        <input\n                                            className=\"form-control\"\n                                            placeholder=\"Input name\"\n                                            value={this.state.selectedBook.id}\n                                            disabled=\"true\"\n                                        />\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <label>Name</label>\n                                        <input\n                                            className=\"form-control\"\n                                            placeholder=\"Input name\"\n                                            value={this.state.selectedBook.name}\n                                            disabled=\"true\"\n                                        />\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <label>Description</label>\n                                        <textarea\n                                            className=\"form-control\"\n                                            placeholder=\"Input address\"\n                                            rows=\"5\"\n                                            value={this.state.selectedBook.description}\n                                            disabled=\"true\"\n                                        />\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <label>Author</label>\n                                        <input\n                                            className=\"form-control\"\n                                            placeholder=\"Input address\"\n                                            value={this.state.selectedBook.author}\n                                            disabled=\"true\"\n                                        />\n                                    </div>\n                                </form>\n                            </div>\n                            <div className=\"col-md-2\">\n                                <img className=\"img-thumbnail card-img-view\" src={this.state.selectedBook.photo} alt=\"src={this.state.selectedBook.name}\" />\n                            </div>\n                        </div>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"danger\"\n                        onClick={this.handleDeleteClick}>\n                            <FontAwesomeIcon icon='trash' />\n                            Delete\n                        </Button>\n                        <Button variant=\"secondary\" onClick={this.close}>\n                            <FontAwesomeIcon icon='window-close' />\n                            Close\n                        </Button>\n                    </Modal.Footer>\n                </Modal> : null}\n                <div className=\"row mt-3 margin-left margin-bottom\">\n                    <div className=\"col\">\n                        <div className=\"btn-group\" role=\"group\">\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-primary ml-2\"\n                                onClick={this.handleAddClick}\n                            >\n                                <FontAwesomeIcon icon='plus' /> New\n                            </button>\n\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-success ml-2\"\n                                disabled={!this.state.enableView}\n                                onClick={this.handleViewClick}\n                            >\n                                <FontAwesomeIcon icon='eye' /> View\n                            </button>\n\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-warning ml-2\"\n                                disabled={!this.state.enableEdit}\n                                onClick={this.handleEditClick}\n                            >\n                                <FontAwesomeIcon icon='edit' /> Edit\n                            </button>\n\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-danger ml-2\"\n                                disabled={!this.state.enableDelete}\n                                onClick={this.handleDeleteClick}\n                            >\n                                <FontAwesomeIcon icon='trash' /> Delete\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <BooksList books={books} handleRowSelect={this.handleRowSelect} handleSelectAll={this.handleSelectAll} />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    books: state.booksReducer.books,\n    selectedBook: state.booksReducer.selectedBook\n});\n\nconst mapDispatchToProps = dispatch => ({\n    action: bindActionCreators(BookActionTypes, dispatch)\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BooksListContainer);"]},"metadata":{},"sourceType":"module"}